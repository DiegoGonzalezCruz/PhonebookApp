{"version":3,"sources":["components/Filter.js","services/phoneService.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Search","setFilterValue","filterValue","value","onChange","event","target","baseUrl","getAll","a","axios","get","response","data","console","log","create","newObject","post","deleteId","id","delete","phoneService","update","put","error","PersonForm","setNewName","setNewPhone","newName","newPhone","persons","setPersons","handleMessage","checkRepeated","filter","person","name","length","updateData","nameObject","nameId","find","element","then","res","newNames","el","number","validateInput","type","onClick","e","preventDefault","concat","catch","Persons","handleDelete","personsToFilter","toLowerCase","includes","map","successBox","color","fontSize","Notification","message","userAdded","className","App","useState","setMessage","useEffect","initialPhones","msg","setTimeout","Filter","window","confirm","p","contactName","ReactDOM","render","document","getElementById"],"mappings":"4IAiBeA,EAjBA,SAAC,GAAmC,IAAlCC,EAAiC,EAAjCA,eAAgBC,EAAiB,EAAjBA,YAM7B,OACI,iCACI,wCACA,uBACIC,MAAOD,EACPE,SATS,SAACC,GAClBJ,EAAeI,EAAMC,OAAOH,c,gDCF9BI,EAAU,eAEVC,EAAM,uCAAG,4BAAAC,EAAA,+EAEgBC,IAAMC,IAAIJ,GAF1B,cAEDK,EAFC,yBAGAA,EAASC,MAHT,gCAKPC,QAAQC,IAAI,+BALL,yDAAH,qDASNC,EAAM,uCAAG,WAAMC,GAAN,eAAAR,EAAA,sEAEgBC,IAAMQ,KAAKX,EAASU,GAFpC,cAEDL,EAFC,yBAGAA,EAASC,MAHT,2CAAH,sDAoBNM,EAAQ,uCAAG,WAAOC,GAAP,SAAAX,EAAA,+EAGHC,IAAMW,OAAN,UAAgBd,EAAhB,YAA2Ba,IAHxB,sDAKTN,QAAQC,IAAR,MACAD,QAAQC,IAAI,4CANH,wDAAH,sDAYCO,EAFM,CAAEd,SAAQQ,SAAQO,OArBxB,SAACH,EAAIH,GAChB,IAII,OAFiBP,IAAMc,IAAN,UAAajB,EAAb,YAAwBa,GAAMH,GAGjD,MAAOQ,GACLX,QAAQC,IAAI,iCAc2BI,YCzChC,SAASO,EAAT,GAAyG,IAAnFC,EAAkF,EAAlFA,WAAYC,EAAsE,EAAtEA,YAAaC,EAAyD,EAAzDA,QAASC,EAAgD,EAAhDA,SAAUC,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,cAuC5FC,EAAgB,SAACL,GACnB,OAAIE,EAAQI,QAAO,SAACC,GAAD,OAAYA,EAAOC,OAASR,KAASS,OAAS,GAM/DC,EAAa,SAACC,GAChB,IAAMC,EAASV,EAAQW,MAAK,SAAAC,GAAO,OAAIA,EAAQN,OAASR,KAAST,GAEjEE,EACKC,OAAOkB,EAAQD,GACfI,MAAK,SAAAC,GAEFZ,EAAc,gBAAD,OACOY,EAAIhC,KAAKwB,OAE7B,IAAMS,EAAQ,YAAOf,GAErBe,EAASJ,MAAK,SAAAK,GAAE,OAAIA,EAAGV,OAASQ,EAAIhC,KAAKwB,QAAMW,OAASH,EAAIhC,KAAKmC,OACjEhB,EAAWc,GACXnB,EAAW,IACXC,EAAY,QAIlBqB,EAAgB,SAACZ,EAAMW,GACzB,OAAKX,EAMAW,OAAL,GACIf,EAAc,uBAGP,IATPA,EAAc,qBAGP,IAUf,OACI,iCACI,gCACI,+CACA,sCACA,uBACI9B,MAAO0B,EACPzB,SArFS,SAACC,GAEtBsB,EAAWtB,EAAMC,OAAOH,UAqFhB,2CACA,uBACIA,MAAO2B,EACP1B,SArFU,SAACC,GACvBuB,EAAYvB,EAAMC,OAAOH,aAuFrB,8BACI,wBACI+C,KAAK,SACLC,QAvFG,SAACC,GAChBA,EAAEC,iBAEF,IAAMb,EAAa,CACfH,KAAMR,EACNmB,OAAQlB,GAEZ,IAAyC,IAArCmB,EAAcpB,EAASC,GAC3B,OAAII,EAAcL,GACPU,EAAWC,QAEtBlB,EACKN,OAAOwB,GACPI,MAAK,SAAAC,GACFb,EAAWD,EAAQuB,OAAOT,IAC1BlB,EAAW,IACXC,EAAY,IACZK,EAAc,gBAAD,OACOY,EAAIR,UAG3BkB,OAAM,SAAA9B,GACHX,QAAQC,IAAIU,EAAMb,UAClBqB,EAAc,0BA8Dd,sBC/FD,SAASuB,EAAT,GAA0D,IAAvCzB,EAAsC,EAAtCA,QAAS7B,EAA6B,EAA7BA,YAAauD,EAAgB,EAAhBA,aAC9CC,EAAkBxD,EAClB6B,EAAQI,QAAO,SAAAC,GAAM,OAAIA,EAAOC,KAAKsB,cAAcC,SAAS1D,EAAYyD,kBACxE5B,EACN,OACI,6BACK2B,EAAgBG,KAAI,SAAAzB,GAAM,OACvB,+BACKA,EAAOC,KADZ,MACqBD,EAAOY,OACxB,wBAAQ7C,MAAOiC,EAAOhB,GAAI+B,QAASM,EAAnC,sBAFKrB,EAAOC,KAAOD,EAAOhB,GAAKgB,EAAOY,aCP1D,IAAMc,EAAa,CACfC,MAAO,QACPC,SAAU,IAKC,SAASC,EAAT,GAA+C,IAAvBC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UAC5C,MAAgB,KAAZD,EACO,GAGP,sBAAKE,UAAWN,EAAhB,UACKI,EADL,IACeC,KCRvB,IAgEeE,EAhEH,WAER,MAA8BC,mBAAS,IAAvC,mBAAOvC,EAAP,KAAgBC,EAAhB,KACA,EAA8BsC,mBAAS,IAAvC,mBAAOzC,EAAP,KAAgBF,EAAhB,KACA,EAAgC2C,mBAAS,IAAzC,mBAAOxC,EAAP,KAAiBF,EAAjB,KACA,EAAsC0C,mBAAS,IAA/C,mBAAOpE,EAAP,KAAoBD,EAApB,KACA,EAA8BqE,mBAAS,IAAvC,mBAAOJ,EAAP,KAAgBK,EAAhB,KASAC,qBAPmB,WACflD,EACKd,SACAoC,MAAK,SAAA6B,GACFzC,EAAWyC,QAGD,IAEtB,IASMxC,EAAgB,SAACyC,GAEnBH,EACI,6BAAKG,KAETC,YAAW,WACPJ,EAAW,MACZ,MAGP,OACI,gCACI,2CACA,cAACK,EAAD,CACI3E,eAAgBA,IAEpB,cAACyB,EAAD,CACIC,WAAYA,EACZC,YAAaA,EACbC,QAASA,EACTC,SAAUA,EACVC,QAASA,EACTC,WAAYA,EACZuC,WAAYA,EACZtC,cAAeA,IAGnB,cAACgC,EAAD,CAAcC,QAASA,IACvB,yCACA,cAACV,EAAD,CACIzB,QAASA,EACT7B,YAAaA,EACbuD,aAzCS,SAACL,GAElB,GAAKyB,OAAOC,QAAQ,iBAApB,CACAxD,EAAaH,SAASiC,EAAE9C,OAAOH,OAC/B6B,EAAWD,EAAQI,QAAO,SAAA4C,GAAC,OAAIA,EAAE3D,KAAOgC,EAAE9C,OAAOH,UACjD,IAAI6E,EAAcjD,EAAQI,QAAO,SAAA4C,GAAC,OAAIA,EAAE3D,KAAOgC,EAAE9C,OAAOH,SAAO,GAAGkC,KAClEJ,EAAc,WAAD,OAAY+C,EAAZ,qBC3BnBC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.694e520b.chunk.js","sourcesContent":["const Search = ({setFilterValue, filterValue}) => {\n\n    const handleFilter = (event) => {\n        setFilterValue(event.target.value)\n    }\n\n    return (\n        <form>\n            <h1>Search</h1>\n            <input\n                value={filterValue}\n                onChange={handleFilter}\n            />\n        </form>\n    )\n}\n\nexport default Search","import axios from \"axios\";\nconst baseUrl = '/api/persons'\n\nconst getAll = async () => {\n    try {\n        const response = await axios.get(baseUrl)\n        return response.data\n    } catch (error) {\n        console.log('There is an error in getAll')\n    }\n}\n\nconst create = async newObject => {\n/*     try { */\n        const response = await axios.post(baseUrl, newObject)\n        return response.data\n   /*  catch (error) {\n        console.log('There is an error in create', error)\n    } */\n}\n\nconst update = (id, newObject) => {\n    try {\n        //console.log('from phoneservice',id, newObject)\n        const response = axios.put(`${baseUrl}/${id}`, newObject)\n        //console.log('from phoneservice',response)\n        return response\n    } catch (error) {\n        console.log('There is an error in update')\n    }\n}\n\nconst deleteId = async (id) => {\n    //console.log(id,'id desde vice')\n    try {\n        await axios.delete(`${baseUrl}/${id}`)\n    } catch (error) {\n        console.log(error)\n        console.log('There is an error in delete phoneService')\n    }\n}\n\nconst phoneService = { getAll, create, update, deleteId }\n\nexport default phoneService","import phoneService from \"../services/phoneService\"\nexport default function PersonForm({ setNewName, setNewPhone, newName, newPhone, persons, setPersons, handleMessage }) {\n\n    const handleNameChange = (event) => {\n        //console.log(event.target.value)\n        setNewName(event.target.value)\n    }\n\n    const handlePhoneChange = (event) => {\n        setNewPhone(event.target.value)\n    }\n\n    const addContact = (e) => {\n        e.preventDefault()\n        //console.log('saving name...', 'ready')\n        const nameObject = {\n            name: newName,\n            number: newPhone\n        }\n        if (validateInput(newName, newPhone) === false) return\n        if (checkRepeated(newName)) {\n            return updateData(nameObject)\n        }\n        phoneService\n            .create(nameObject)\n            .then(res => {\n                setPersons(persons.concat(res));\n                setNewName('');\n                setNewPhone('');\n                handleMessage(\n                    `User created ${res.name}`\n                )\n            })\n            .catch(error => {\n                console.log(error.response)\n                handleMessage(\n                    `There is an error.`\n                )\n            })\n    }\n    const checkRepeated = (newName) => {\n        if (persons.filter((person) => person.name === newName).length > 0) {\n            //console.log(newName)\n            return true\n        } else return false\n    }\n\n    const updateData = (nameObject) => {\n        const nameId = persons.find(element => element.name === newName).id\n        //console.log(nameObject, 'from updateData')\n        phoneService\n            .update(nameId, nameObject)\n            .then(res => {\n                //console.log('from then updateData', res)\n                handleMessage(\n                    `User updated ${res.data.name}`\n                )\n                const newNames = [...persons]\n                //console.log(nameObject, 'from then')\n                newNames.find(el => el.name === res.data.name).number = res.data.number\n                setPersons(newNames)\n                setNewName('')\n                setNewPhone('')\n            })\n    }\n\n    const validateInput = (name, number) => {\n        if (!name) {\n            handleMessage(\n                `There is no name`\n            )\n            return false\n        }\n        if (!number ) {\n            handleMessage(\n                `There is no number`\n            )\n            return false\n        }\n    }\n\n    return (\n        <form>\n            <div>\n                <h2>Add new entry</h2>\n                <p>name:</p>\n                <input\n                    value={newName}\n                    onChange={handleNameChange}\n                />\n                <p>telephone:</p>\n                <input\n                    value={newPhone}\n                    onChange={handlePhoneChange}\n                />\n            </div>\n            <div>\n                <button\n                    type=\"submit\"\n                    onClick={addContact}\n                >\n                    Add\n                </button>\n            </div>\n        </form>\n    )\n}\n","\n\nexport default function Persons({ persons, filterValue, handleDelete }) {\n    const personsToFilter = filterValue\n        ? persons.filter(person => person.name.toLowerCase().includes(filterValue.toLowerCase()))\n        : persons\n    return (\n        <ul>\n            {personsToFilter.map(person =>\n                <li key={person.name + person.id + person.number}>\n                    {person.name} - {person.number}\n                    <button value={person.id} onClick={handleDelete}>Delete</button>\n                </li>\n            )}\n        </ul>\n    )\n}","import React from 'react'\n\nconst successBox = {\n    color: 'green',\n    fontSize: 20\n}\n\n//console.log(successBox)\n\nexport default function Notification({ message, userAdded }) {\n    if (message === '') {\n        return ''\n    }\n    return (\n        <div className={successBox}>\n            {message} {userAdded}\n        </div>\n    )\n}\n","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport phoneService from './services/phoneService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newPhone, setNewPhone] = useState('')\n    const [filterValue, setFilterValue] = useState('')\n    const [message, setMessage] = useState('')\n\n    const getAllHook = () => {\n        phoneService\n            .getAll()\n            .then(initialPhones => {\n                setPersons(initialPhones)\n            })\n    }\n    useEffect(getAllHook, [])\n\n    const handleDelete = (e) => {\n        //console.log(typeof e.target.value)\n        if (!window.confirm('Are you sure?')) return\n        phoneService.deleteId(e.target.value)\n        setPersons(persons.filter(p => p.id !== e.target.value))\n        let contactName = persons.filter(p => p.id === e.target.value)[0].name\n        handleMessage(`usuario ${contactName} borrado`)\n    }\n\n    const handleMessage = (msg) => {\n        //console.log(`phonebook changed ${status}`)\n        setMessage(\n            <h1>{msg}</h1>\n        )\n        setTimeout(() => {\n            setMessage('')\n        }, 3000)\n    }\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Filter\n                setFilterValue={setFilterValue}\n            />\n            <PersonForm\n                setNewName={setNewName}\n                setNewPhone={setNewPhone}\n                newName={newName}\n                newPhone={newPhone}\n                persons={persons}\n                setPersons={setPersons}\n                setMessage={setMessage}\n                handleMessage={handleMessage}\n\n            />\n            <Notification message={message} />\n            <h2>Numbers</h2>\n            <Persons\n                persons={persons}\n                filterValue={filterValue}\n                handleDelete={handleDelete}\n            />\n        </div>\n    )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\n  ReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  )"],"sourceRoot":""}